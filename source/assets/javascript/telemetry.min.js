var app=window.app=angular.module("telemetry",["ngRoute","ngMessages","loginController"]);app.config(["$routeProvider",function($routeProvider){var loggedInStatus=function($location,$rootScope){$rootScope.loggedIn||$location.path("/")};$routeProvider.when("/",{templateUrl:"app/components/login/login.html"}).when("/dashboard",{resolve:{check:loggedInStatus},templateUrl:"app/components/dashboard/dashboard.html"}).otherwise({redirectTo:"/"})}]),app.controller("dashboardController",function($scope,$location,$rootScope){$scope.logout=function(){delete $rootScope.email,$rootScope.loggedIn=!1,$location.path("/")}}),app.controller("loginController",function($scope,$location,$rootScope){$scope.login=function(){$scope.failedLogin=!1,$scope.loginForm.$valid&&"password"!==$scope.password.toLowerCase()?($rootScope.loggedIn=!0,$rootScope.email=$scope.email,$location.path("/dashboard")):$scope.loginForm.$valid&&($scope.failedLogin=!0)}});